更新履歴

0.56β → 0.6β(2020/08/05)

自分の過去コード資産の整理を兼ねて更新します。

修正点：
・64ビット環境で正常動作しない問題を修正
	CPUアーキテクチャ指定をx86に固定しました。

変更点：
・githubに移行
・Azukiを最新バージョン(1.7.13)へ更新
・上記に伴いRCM説明書.txtを更新

＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝

0.55β → 0.56β(2010/01/29)

修正点：
・動作プレビュー関連
	回転しているホイールを選択すると、回転速度が変化してしまう不具合を修正。
	回転速度が、Powerの値に関わらず一定だった不具合を修正。
	Jetの炎の向きが逆だった不具合を修正(爆笑)。
	Jetの炎の描画方法を、よりそれっぽく修正。

・更新履歴の日本語を修正

変更点：
・プレビュー中に利用できるメニュー項目を制限

＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝

0.5β → 0.55β(2010/01/29)

修正点：
・一度チップを12枚接続すると、削除しても追加できなくなる不具合を修正
・キー動作を削除しても表示がすぐに反映されなかった不具合を修正
・Azukiを1.5.0へ更新

追加点：
・動作プレビュー機能
	モデル表示領域右上の[>>]ボタンを押すと、プレビューモードになります。
	現在スクリプトの動作には対応していません。

＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝

0.4β → 0.5β(2009/9/13)

修正点：
・Luaスクリプト中に"//"があった場合に、その文字以降が消去されてしまっていたバグを修正
・クリック判定が一部おかしかったのを修正
・複数のチップを選択した際の、共通属性の判定が正しく動いていなかったのを修正
・カラーパレットを右クリックした際に色が変更されないよう修正
・Valダイアログで、DefaultがMin-Max範囲外の時にエラーにならなかった件を修正
・派生チップのリスト右クリックで切り取りを行った際に画面やリストに反映されず、もう一度切り取りをすると
　エラーで落ちる不具合を修正

追加点：
・スクリプト編集部分の色分け
	Azuki テキストエディタエンジンをお借りしています。
	( https://ja.osdn.net/projects/azuki/ )
	とりあえずチップ名・Val変数名・RigidChips関数名は色がつくはずです。
	スクリプト内定義の変数に色をつける予定はありません。
	あと、遙か昔に知り合いから要望があった関数名補完とかは後回しです。
・カラーパレット右クリックメニューに、カラーダイアログを呼び出すコマンドを追加
・属性変更ボックスに、存在しない変数名を入れることで即座に変数を作成できるよう機能追加
・属性変更ボックスのツールチップに、設定されている変数の情報を追加
・情報表示に「Coreからの平均接続距離」追加
	意味はあるのか知らない。

変更点
・ファイル読込・保存の変更
	方法を統一し、ファイルフォーマットは拡張子で区別するようにしました。
	これに伴い、インポート・エクスポートをメニューから削除されました。
・Val、Keyダイアログのインターフェイス・動作変更
	最初期にでっち上げたインターフェイスを今まで使い通してきていましたが
	さすがにこれは無いわと(今更)思ったため、操作性向上を狙って改良しました。
		・Valダイアログに削除ボタンを追加(！？)
		・Val追加の操作を変更
			リスト中の (新規) という要素を選ぶことにより追加となります。
		・Valダイアログの各数値に#十六進数を使用できるよう変更
		・Keyダイアログ中に、Valダイアログを呼び出して追加などをできるよう変更
			ドロップダウンで (Val編集...) を選ぶことでValダイアログを呼び出せます。
		・Keyダイアログを、Valが一つも登録されていない状態でも出せるように
・ツリービューのパフォーマンス向上
・ツリービューが常に最前面に表示されていたのを、通常のウィンドウの振る舞いに変更
・画面レイアウトを少々変更し、よりコンパクトにできるように
・パレットのビットマップ(Palette.bmp)を、自動で拡大・縮小するよう変更
	96x96以外のサイズのファイルも使いやすくなったと思います。
・ツールボタンをToolButtonからToolStripButtonに変更(動作は変化ないはず)
・出力形式設定ダイアログでのプレビューが即時反映されるよう修正
・右側の派生チップリストの右クリックメニューを変更
	「削除」を追加
	追加・切り取り・コピー・削除で選択中のチップが変化しないように変更
・カーソルのXファイルを変更
	前のものが良い場合は、cursor4.xをcursor.xへ

＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝

0.35β → 0.4β(2006/06/20)

備考：

　アンドゥ・リドゥ機能の実装に挑戦した辺りで、現在のコード形態の限界に直面しました。
　これ以上付け焼き刃でプログラムを拡張していくのも無理がありそうなので、いったん一から作り直すことにします。
　なので、rcm.exeとしてのプログラムは0.4xβバージョンシリーズをもって最終バージョンとします。

　ただし、バグ取りは随時行いますので、問題がありましたらご一報ください。


　新バージョンは、8月完成予定です。


　# そういえば、もうα公開から1年経つのですね。早いものです。



修正点：
・環境依存の部分をもう少し柔軟に
	・・・なったんじゃないかなぁ？
・バルーンが正しく表示されていなかった不具合を修正
・「挿入」やチップ種類変更を行うと一時的にチップが見えなくなる不具合を修正
・表示設定の「Z軸-」の設定が保存されていなかった不具合を修正

・一つ前のバージョンの更新履歴の誤字とか書き間違えとかを修正
	カウル膨張させてどうすんだよ俺orz

追加点：
・ウィンドウの最大化・最小化を可能にした
	デスクトップの解像度を変更すると落ちる可能性があるのは改善されていません。
	RC本体と同時起動するときには、ウィンドウモードのみでご利用ください。
・RCMファイルに、視点の位置・選択中チップを記憶させるように変更
	読み込んだときに自動でカーソル位置と視点が復元されます。
・すでに選択されているチップを再度クリックすることで、そのチップに注目するようにした。
	オートスクロールを切った場合の操作性がよくなったと思います。
・ゴーストチップの表示方法に「？？G.x」という項目を追加
	rcm.exeのResourcesフォルダ(RC本体のResourceフォルダではなく)に、

		ChipG.x , RudderG.x , TrimG.x

	を入れてあれば、それを表示に使用します。
	存在しない場合も設定できますが、何も表示されなくなります。
	とりあえず最初からやっつけなXファイルが入っていますが、不満でしょうから(確定事項)
	Metasequoiaなどを使ってチップを自作するといいでしょう。


・謎の広角モードを実装
	実用性は少ないです。
	訂正、ないです。


変更点：
・「選択」モードと「視点」モードで、ガイドを表示しないようにした
・画面再描画頻度を毎秒10回から毎秒4回へ

＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝

0.34β → 0.35β(2006/05/05)
修正点：
・(緊急)カウルを追加したあとにどこかのチップを削除すると、カウルが消えて表示がおかしくなってしまうバグを修正。
・複数選択時に画面をクリックすると場合によっては落ちる場合があったのを修正
・バルーンの初期膨張率が明らかにおかしかったのを修正
	自分で0.5が標準だと書いておきながら、初期値は1.5でしたorz

追加点：
・[編集]メニューに選択系メニューを追加
・チップ右クリックメニューに[色]を追加
・エラー落ちしたときに、エラー内容を[error.log]というファイルに出力するようにした
	消極的な策ですが、一番手っ取り早そうなので。
	メールなどで、どんな操作をしていたかを簡単に添えて送っていただければ幸いです。

変更点：
・透明度最大のカウルが「非表示チップは選択されないようにする」オプションの対象になるよう変更

＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝

0.33β → 0.34β(2006/05/01)
追加点：
・Angle回転軸ガイドを追加
	何となくではありますが回転方向も示唆してみたり。

変更点：
・Cowlやカーソルの描画順を変更
	背後のチップが消える現象を軽減。それでもダメなときはダメだろうけどね！(開き直るな
・色コンボボックスを削除
	属性一覧に載せたし、利用価値があまりなさそうなので。

修正点：
・貼り付け時に落ちる現象を修正したつもり
	多分ここじゃないかって所を修正しました。
・[チップ種類変更] → [カウル]が正常に動くように変更

＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝

0.32β → 0.33β(2006/04/02)
追加点：
・CowlのEffectに対応

変更点：
・Color属性とその他属性の管理方法の統一化
	これに伴い、色に変数が使えるようになったはずです。未確認です。
・ゴーストチップ表示方法を変更
	Chip.x_が不要になったため、Resourcesフォルダから削除。

既知の不具合：
・半透明チップの下のチップが表示されないことがある
	前からこれは起こっていましたが、Cowlが半透明に出来るようになってよりいっそう顕著になりました。
	修正できるか微妙なところですが、がんばってみます。
・カウルのEffectによる表示変更が、RC本体と違う
	いろんな定数の差と思われます。これは仕様とさせていただきます。

＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝

0.31β → 0.32β(2006/03/28)
追加点：
・Weightのオプション値に対応
	重心位置とかもきちんと変更されます。
・[編集]メニューに[モデル情報]を暫定追加
	チップ使用状況と合計燃料を表示します。後々は対応RCバージョンとかも表示したい。

＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝

0.3β → 0.31β(2006/03/??)
修正点：
・出力されたモデルの改行コードがCRLFでなくLFのみになっていたのを修正。
・モデルのスクリプト区分(Script or Lua)が正しく保存されていなかったのを修正。
・スクリプト内とコメントの2バイト文字が完全に死んでいた(と思われる)のを修正。
・モデルインポート時のエラー落ちを軽減・・・したはず。
・スクリプト編集ウィンドウの「変更を保存しないで閉じる」が 全 く 動作していなかったのを修正。
・スクリプトを編集・変更を適用してもモデルが編集されたと認識されず、終了確認ダイアログが出なかったのを修正。

追加点：
・ついにマウスホイールで拡大・縮小ができるように。

変更点：
・内部の文字列生成方式をちょっと変えた。速くなったはず。

＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝

0.2β → 0.3β(2005/11/04)
修正点：
・チップポリゴン読み込みの不具合がとり切れていなかったので改めて修正。今度こそ。
・平行投影法で表示していたときに拡大・縮小ができなかったのを修正。
・括弧の中に何もない変数の宣言を読み込めなかった不具合を修正。

追加点：
・角度視覚表示エリアでのグリッド設定を追加
	右クリックで選択。エリア内左上にも現在のグリッドが表示されます。
・ショートカットキーを暫定追加
	(キーボード配列上の)Q ～ Yはチップ～トリムフレーム、A ～ Hはホイール～アームに対応しています。
	あと、Zで選択モード、Xで視点モード、Vで貼り付けモードになります。
	Ctrl+Delで削除です。
	Ctrl+Del以外は、名前入力ボックスと色入力ボックスにカーソルが合っているときは動作しません。そのはずです。
	「この配置使いづれーよ」とかありましたら報告をば。
・エディット動作設定に、「チップの属性変更は自動で適用する」を追加
	これを有効にすると、入力が終了して「カーソルが移動したとき」に自動的に適用されるようになります。
	エンターキー忘れがひどい人はどうぞ。
・チップ複数選択を可能に
	属性をまとめて決めたいときとかにどうぞ。
	
	あ、「全て選択」を実装し忘れてた。まぁいいや。

＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝

0.1β → 0.2β(2005/10/11)
重要な修正点：
・出力ファイルで、Color属性記述のあとにカンマが入ってませんでしたorz よって修正
・ゴーストチップを表示する設定でも不可視になってしまっていたのを修正
・ゴーストチップのポリゴンデータのパスが間違っていたので修正。βから使い始めた人たちにはご迷惑をおかけしました。

追加点：
・表示方式に並行投影法(奥行きがない方式)を選べるように
・重心ガイドの色を選択可能にした
・Val{...}入力ボックスに、変数コピーボタンを追加
	選択されている変数と同じ設定の変数を作成できます。

＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝

α2 → 0.1β(2005/10/05)
追加点：
・中間ファイル入出力正式実装
	基本的なファイル入出力はRCMファイルに対して行われます。
・テキストインポート実装
	大抵のは読めますが、一部制限有り。詳しくはRCM説明書を。
・スクリプト入力ボックス実装
	チップ名・変数・関数リストも付けました。おまけ程度です。
・ツリー構造表示を実装
	連結状況確認や、囲まれてしまって選択できないチップの選択などにご利用下さい。
・RigidChip送信を実装
	起動中のRC(15B19以上)にデータを読み込んでもらうよう頼みます。なぜかWin98では正しく動かない模様。
・表示・出力形式選択ダイアログ実装
	色々と設定できます。
・いろんな所の右クリックでメニューが出るように
	派生チップリストやツリービュー、エディット画面でも出ます。
・両ボタンドラッグで拡大縮小
	ホイールができれば本当は良いんだけど・・・何故か出来ん。
・チップにコメントを付加できるように
	テキストをいじくりたい人向け。
・チップ種類変更を実装
	カウルから他のチップ（またはその逆）にするときはご注意を。
・重心位置表示実装
	邪魔なら表示設定で切っちゃって下さい。

変更点：
・RCと同一ディレクトリじゃなくても動くようにした
	不便でしょ？
・RCMファイルのフォーマットを変更
	もちろんα2のデータは問題なく読める・・・と思います。
・挿入動作を変更
	チップを挿入ではなく、現在の追加モードに従ってそのチップが挿入されます。
・ツールボタン下の領域にきちんと説明が出るように
・各チップ情報生成方法を変更
	出力形式変更に対応しやすくする為、全チップで統一しました。ちょっと遅くなったかも？
・派生チップリストの背景色をガイドに対応させた
	どれがどれだか分からなくなるので。

修正点：
・軸線が真っ黒だったのを修正
	ライトを使うと何故かああなってしまっていました。
・変数の参照カウントがおかしかったのを修正
	データ管理は大変です。
・その他、α2の不具合を修正

＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝

α → α2(2005/08/25)
追加点：
・色パレットを追加：クリックで現在指定されているチップの色を変更可能
	パレットまたは色コード入力ボックスを右クリックすると、複数チップの色変更ができます。
	パレットは[Palette.bmp]を読み込んでいるので、自由に変更して下さい。
・色コード入力ボックスのプルダウンを実装
	色の名前がリストで出てくるので、そこから選択してEnterを押すとその色が使用できます。
	色リストは、HTMLで使える色名と同じかと思われます。
・Val{...}編集
	やっと動くようになりました。正しく動くはず。
・Key{...}編集(仮実装)
	仮実装であるため、落ちることがありますのでご注意下さい。特に削除を行った直後。
・カメラのカーソル追尾を選択式に
	ツールボタンの[カーソル自動追跡]によってOn/Offができます。
	Offの状態で注目点変更を行いたい時は、すぐ隣の[視点]ボタンで、注目させたいチップを選んで下さい。
・中間データの出力
	ごめんなさい。出力だけです。ファイル入力を作ろうとしたときにノートPCが・・・orz

変更点：
・カメラ視点変更中はカーソルを表示しないようにした
・メインウィンドウの各入力ボックスに、使用できない無効な文字は受け付けない処理を追加
	Val名とかではまだ行っていませんのでご注意下さい。
・ズームボタンの倍率変更動作を変更
・変数がチップデータ等で参照されている時に変数を消去しようとすると警告がでるように

修正点：
・各入力ボックスでEnterを押してデータを適用したときに、アラーム音がしてしまったのを修正
・CoreにもUser1,User2を設定できるように修正
・前後反転動作がおかしかったのを修正
・属性値の設定にいくつか不具合があったのを修正
